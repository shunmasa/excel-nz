_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[32],{Dna9:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/notice",function(){return t("MaAK")}])},GTNI:function(e,n,t){"use strict";var a=t("h4VS"),r=t("lTCR");function i(){var e=Object(a.a)(["\n{\n  notices{\n    _id\n    body\n    createdAt\n  }\n}\n"]);return i=function(){return e},e}var o=t.n(r)()(i());n.a=o},MaAK:function(e,n,t){"use strict";t.r(n);var a=t("rePB"),r=t("q1tI"),i=t.n(r),o=t("iuhU"),c=t("R/WZ"),s=t("5CWz"),l=t("IIOH"),u=t("bXiM"),d=t("lO0E"),p=t("ofer"),b=t("wb2y"),f=t("PsDL"),m=t("Ji2X"),g=t("tRbT"),h=t("kKAo"),O=t("uniG"),v=t.n(O),w=t("76vg"),j=t.n(w),y=t("zJCo"),x=t("ODXe"),N=t("/EAt"),S=t("Uf6+"),_=t("3PeG"),P=t("Imu7"),E=t("sRsu"),D=t("GoYp"),B=t("wd/R"),C=t.n(B),k=t("xMF9"),I=t.n(k),T=t("vaDH"),R=t("nOHt"),M=t.n(R),G=t("h4VS"),H=t("lTCR"),A=t.n(H);function F(){var e=Object(G.a)(["\n  mutation deleteNotice($_id: ID!) {\n    deleteNotice(_id:$_id){\n      _id\n    }\n  }\n"]);return F=function(){return e},e}var X=A()(F()),z=t("GTNI"),W=t("VX74"),Y=i.a.createElement;var J=Object(c.a)((function(e){return{seeMore:{marginTop:e.spacing(3)}}})),L=Object(T.a)({ssr:!0})((function(){var e=Object(W.useMutation)(X),n=Object(x.a)(e,1)[0],t=Object(r.useState)(!1),a=t[0],o=t[1],c=Object(r.useState)(!0),s=(c[0],c[1],i.a.useState(!1)),l=Object(x.a)(s,2),u=(l[0],l[1],Object(W.useQuery)(z.a)),d=u.data,b=u.error,m=u.loading;u.refetch;b&&"Error! ".concat(b),d&&d.notices.length,Object(r.useEffect)((function(){a&&M.a.reload()}));J();return Y(i.a.Fragment,null,Y(D.a,null,"\u304a\u77e5\u3089\u305b\u30dc\u30fc\u30c9"),Y(N.a,{size:"small"},Y(P.a,null,Y(E.a,null,Y(_.a,null,"\u6295\u7a3f\u65e5"),Y(_.a,{align:"center"},"\u5185\u5bb9"),Y(_.a,null),Y(_.a,null,"\u524a\u9664"))),Y(S.a,null,m?Y(p.a,null,"\u304a\u77e5\u3089\u305b\u3092\u8aad\u307f\u8fbc\u4e2d\u3067\u3059"):d&&d.notices.map((function(e){return Y(E.a,{key:e._id,"data-id":e._id},Y(_.a,null," ",C()(e.createdAt).format("YYYY/MM/DD")),Y(_.a,null,e.body),Y(_.a,null),Y(_.a,null,Y(f.a,{onClick:function(){n({variables:{_id:e._id}}),o(!a)}},Y(I.a,{style:{color:"red",height:"2.5rem",width:"2.5rem",marginLeft:"-.5em"}}))))})))))})),V=t("FpJU"),K=t("p46w"),Z=t.n(K),$=t("2D7x"),U=t("o0o1"),q=t.n(U),Q=t("HaE+"),ee=t("de8u"),ne=t("Z3vd"),te=t("vBfy"),ae=t("FGyW");function re(){var e=Object(G.a)(["\n  mutation createNotice($body: String!) {\n    createNotice(body:$body) {\n       _id\n      body\n      createdAt\n    }\n  }\n"]);return re=function(){return e},e}var ie=A()(re()),oe=t("KYPV"),ce=t("ZBNC"),se=i.a.createElement,le=Object(c.a)((function(e){return Object(ce.a)({formContainer:{width:"90%",marginTop:"2rem",marginRight:"5%",marginLeft:"5%"},bodyField:{marginTop:"2rem",marginBottom:"1rem",width:"100%"}})})),ue=Object(T.a)({ssr:!0})((function(){var e=Object(W.useMutation)(ie),n=Object(x.a)(e,2),t=n[0],a=(n[1].data,Object(r.useState)(!1)),i=a[0],o=(a[1],le());return Object(r.useEffect)((function(){i&&M.a.reload()})),se(oe.c,{initialValues:{body:""},validate:function(e){console.log("value",e);var n={};return e.body||(n.body="\u5165\u529b\u5fc5\u9808\u3067\u3059"),n},onSubmit:function(){var e=Object(Q.a)(q.a.mark((function e(n,a){var r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.setSubmitting,e.prev=1,event.preventDefault(),e.next=5,t({variables:{body:n.body}});case 5:ae.b.success("\u304a\u77e5\u3089\u305b\u304c\u4f5c\u6210\u3055\u308c\u307e\u3057\u305f"),M.a.reload(),r(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),ae.b.error("\u30b5\u30fc\u30d0\u30fc\u30a8\u30e9\u30fc\u306e\u305f\u3081\u30c7\u30fc\u30bf\u9001\u4fe1\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n,t){return e.apply(this,arguments)}}()},(function(e){var n=e.submitForm,t=e.isSubmitting;return se(oe.b,{className:o.formContainer},se(p.a,{style:{color:"#fff",fontSize:"23px"}},"\u304a\u77e5\u3089\u305b\u306e\u4f5c\u6210"),se(oe.a,{className:o.bodyField,component:te.a,type:"text",label:"\u304a\u77e5\u3089\u305b\u5185\u5bb9",name:"body",variant:"outlined",margin:"normal",multiline:!0,rows:10,required:!0,fullWidth:!0}),se("br",null),t&&se(ee.a,null),se("br",null),se(ne.a,{variant:"contained",color:"primary",disabled:t,onClick:n},"Submit"))}))})),de=i.a.createElement;function pe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function be(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?pe(Object(t),!0).forEach((function(n){Object(a.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var fe=Object(c.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:be({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(a.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},form:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",background:"#347deb"},fixedHeight:{height:240}}}));n.default=Object(V.a)((function(e){var n=fe(),t=Object(r.useState)(!0),a=t[0],i=t[1],c=Object(R.useRouter)();Object(o.a)(n.paper,n.fixedHeight);return de("div",{className:n.root},de(s.a,null),de(u.a,{position:"absolute",className:Object(o.a)(n.appBar,a&&n.appBarShift)},de(d.a,{className:n.toolbar},de(f.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){i(!0)},className:Object(o.a)(n.menuButton,a&&n.menuButtonHidden)},de(v.a,null)),de(p.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:n.title},"Excel NZ"))),de(l.a,{variant:"permanent",classes:{paper:Object(o.a)(n.drawerPaper,!a&&n.drawerPaperClose)},open:a},de("div",{className:n.toolbarIcon},de(f.a,{onClick:function(){i(!1)}},de(j.a,null))),de(b.a,null),de(y.a,{handleLogout:function(){Object($.b)(),Z.a.remove("name"),c.push("/")}}),de(b.a,null)),de("main",{className:n.content},de("div",{className:n.appBarSpacer}),de(m.a,{maxWidth:"lg",className:n.container},de(g.a,{container:!0,spacing:3},de(g.a,{item:!0,xs:12},de(h.a,{className:n.paper},de(L,null)))),de(g.a,{item:!0,xs:12},de(h.a,{className:n.form},de(ue,null))))))}))}},[["Dna9",1,0,15,2,3,4,5,6,7,9,8,10,14,13,16,18]]]);